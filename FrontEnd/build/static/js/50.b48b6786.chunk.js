(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[50],{1421:function(e,a,t){"use strict";t.r(a);var l=t(6),n=t.n(l),c=t(14),r=t(2),s=t(0),o=t.n(s),m=t(1),u=t(13),i=t.n(u),b=t(93),d=t.n(b),E=t(15),f=t(12),p=(t(88),t(90),t(1137)),g=t.n(p),y=(t(1136),t(26)),h=t(3),T=t(27),C=t(28);a.default=function(){Object(h.i)().id,Object(h.g)();var e=Object(s.useState)(0),a=Object(r.a)(e,2),t=a[0],l=a[1],u=Object(s.useState)(0),b=Object(r.a)(u,2),p=b[0],O=b[1],j=Object(s.useState)(!1),x=Object(r.a)(j,2),w=x[0],v=x[1],S=Object(s.useContext)(T.a),k=(S.topheading,S.setTopHeading),N=Object(s.useContext)(C.a),D=(N.bbaropen,N.setBBarOpen),M=(N.salaryDetails,N.setSalaryDetails),B=Object(s.useState)(1),H=Object(r.a)(B,2),P=H[0],A=H[1],F=Object(s.useState)([]),I=Object(r.a)(F,2),Y=I[0],_=I[1],G=Object(s.useState)(""),J=Object(r.a)(G,2),R=(J[0],J[1],Object(s.useState)("")),z=Object(r.a)(R,2),q=(z[0],z[1],Object(s.useState)(new Date)),K=Object(r.a)(q,2),L=K[0],Q=K[1],U=Object(s.useState)(20),V=Object(r.a)(U,2),W=V[0],X=V[1];return Object(s.useEffect)((function(){return k("Salary History"),function(){k("")}}),[]),Object(s.useEffect)((function(){return function(){D(0),M({})}}),[]),Object(s.useEffect)((function(){!function(){var e=Object(c.a)(n.a.mark((function e(){var a,t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getter called"),a={pages:{page:P,limit:10},filters:{date:L}},e.prev=2,e.next=5,i()({url:"".concat(E.a,"/admin/").concat(f.a.getId(),"/getAllSalary"),method:"POST",data:a});case 5:t=e.sent,X(t.data.total),_(t.data.out),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}()()}),[P,L]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:""},o.a.createElement("div",{class:"my-2 flex sm:flex-row flex-col items-start sm:items-center sm:justify-left h-full space-x-2 "},o.a.createElement("div",{className:"font-semibold dark:text-gray-200"}," Select Month"),o.a.createElement("div",{class:"relative mx-1 "},o.a.createElement("div",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500"},o.a.createElement(g.a,{selected:L,onChange:function(e){return Q(e)},dateFormat:"MM/yyyy",showMonthYearPicker:!0}))))),o.a.createElement("div",null,o.a.createElement(m.TableContainer,{className:"mt-4"},o.a.createElement(m.Table,null,o.a.createElement(m.TableHeader,null,o.a.createElement("tr",null,o.a.createElement(m.TableCell,null,"Date"),o.a.createElement(m.TableCell,null,"Employee"),o.a.createElement(m.TableCell,null,"Employee ID"),o.a.createElement(m.TableCell,null,"Eligible Days"),o.a.createElement(m.TableCell,null,"Eligible B + DA"),o.a.createElement(m.TableCell,null,"Deductions"),o.a.createElement(m.TableCell,null,"Take Home Salary"),o.a.createElement(m.TableCell,null,"Gross Salary"),o.a.createElement(m.TableCell,null,"CTC"),o.a.createElement(m.TableCell,null,"Delete"))),o.a.createElement(m.TableBody,null,Y.map((function(e,a){return o.a.createElement(m.TableRow,{className:"hover:shadow-lg dark:hover:bg-gray-600 ".concat(t==e._id?"bg-blue-300 shadow-lg dark:bg-gray-600":"white"," "),key:a,onClick:function(){D(1),l(e._id),M(e)}},o.a.createElement(m.TableCell,{className:"w-8"},o.a.createElement("div",{className:"flex items-center text-sm "},o.a.createElement("div",null,o.a.createElement("p",{className:"font-semibold"},d()(e.date).format("DD/MM/YYYY"))))),o.a.createElement(m.TableCell,null,o.a.createElement("span",{className:"text-sm"},e.employeeName)),o.a.createElement(m.TableCell,null,o.a.createElement("span",{className:"text-sm"},e.employeeID)),o.a.createElement(m.TableCell,null,o.a.createElement("span",{className:"text-sm"},e.EligibleDays)),o.a.createElement(m.TableCell,null,o.a.createElement("span",{className:"text-sm"},e.BplusDA)),o.a.createElement(m.TableCell,null,o.a.createElement("span",{className:"text-sm"},e.Deduction)),o.a.createElement(m.TableCell,null,o.a.createElement("span",{className:"text-sm"},e.TakeHomeSalary)),o.a.createElement(m.TableCell,null,o.a.createElement("span",{className:"text-sm"},e.GrossSalary)),o.a.createElement(m.TableCell,null,o.a.createElement("span",{className:"text-sm"},e.CTC)),o.a.createElement(m.TableCell,null,o.a.createElement("div",{className:"flex items-center space-x-4"},o.a.createElement(m.Button,{layout:"link",size:"icon","aria-label":"Delete",onClick:Object(c.a)(n.a.mark((function a(){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:console.log("delete Asset"),v(!0),O(e._id);case 3:case"end":return a.stop()}}),a)})))},o.a.createElement(y.TrashIcon,{className:"w-5 h-5","aria-hidden":"true"})))))})))),o.a.createElement(m.TableFooter,null,o.a.createElement(m.Pagination,{totalResults:W,resultsPerPage:10,label:"Table navigation",onChange:function(e){A(e)}})))),o.a.createElement(o.a.Fragment,null,o.a.createElement(m.Modal,{isOpen:w,onClose:function(){return v(!1)}},o.a.createElement(m.ModalHeader,null,"Are you sure you want to delete!"),o.a.createElement(m.ModalBody,null),o.a.createElement(m.ModalFooter,null,o.a.createElement(m.Button,{className:"w-full sm:w-auto",onClick:Object(c.a)(n.a.mark((function e(){var a,t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i()({url:"".concat(E.a,"/admin/").concat(f.a.getId(),"/deleteSalary"),method:"POST",data:{id:p}});case 3:a=e.sent,console.log(a.data),t=Y.filter((function(e){return e._id!=p})),_(t),v(!1),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))},"Confirm Delete")))))}}}]);
//# sourceMappingURL=50.b48b6786.chunk.js.map