(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[46],{1408:function(e,a,t){"use strict";t.r(a);var n=t(6),l=t.n(n),c=t(14),r=t(16),o=t(7),s=t(2),m=t(0),u=t.n(m),p=t(13),d=t.n(p),i=t(15),E=t(12),b=t(88),h=t(90),N=t(1),f=(t(18),t(123),t(96),t(3));a.default=function(){var e=Object(f.g)(),a=Object(f.i)().id,t=Object(m.useState)(!1),n=Object(s.a)(t,2),p=n[0],y=n[1],g=Object(m.useState)(!1),v=Object(s.a)(g,2),C=(v[0],v[1],Object(m.useState)({_id:"",customerName:""})),O=Object(s.a)(C,2),T=(O[0],O[1],Object(m.useState)({username:"",email:"",password:"",confpassword:"",name:"",unitId:[],address:"",district:"",state:"",locationType:"",pincode:"",GSTnumber:"",contactPerson:"",contactNo:"",altContact:"",WhatsappNo:"",role:0})),x=Object(s.a)(T,2),w=x[0],j=x[1],I=Object(m.useState)({email:"",name:"",enc_password:"",confpassword:""}),L=Object(s.a)(I,2),S=L[0],P=(L[1],function(e){return function(a){j(Object(o.a)(Object(o.a)({},w),{},Object(r.a)({},e,a.target.value)))}}),k=function(){var e=Object(c.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:a},e.prev=1,e.next=4,d()({url:"".concat(i.a,"/customer/").concat(E.a.getId(),"/getCustomerById"),method:"POST",data:t});case 4:n=e.sent,j({username:n.data[0].username,email:n.data[0].email,name:n.data[0].name,address:n.data[0].address,district:n.data[0].district,state:n.data[0].state,locationType:n.data[0].locationType,pincode:n.data[0].pincode,GSTnumber:n.data[0].GSTnumber,contactPerson:n.data[0].contactPerson,contactNo:n.data[0].contactNo,altContact:n.data[0].altContact,role:n.data[0].role}),console.log("Done",n.data[0]),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();Object(m.useEffect)((function(){k()}),[]);var G=function(){var e=Object(c.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:a,update:{name:w.name,address:w.address,district:w.district,state:w.state,locationType:w.locationType,pincode:w.pincode,GSTnumber:w.GSTnumber,contactPerson:w.contactPerson,contactNo:w.contactNo,altContact:w.altContact,whatsappNo:w.WhatsappNo}},console.log("PAYLOAD",t),e.prev=2,e.next=5,d()({url:"".concat(i.a,"/customer/").concat(E.a.getId(),"/update"),method:"POST",data:t});case 5:y(!0),console.log("Done"),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(2),e.t0;case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return u.a.createElement(u.a.Fragment,null,u.a.createElement(b.a,null,"Add Customer"),u.a.createElement("div",{className:"px-4 py-3 mb-8 bg-white rounded-lg shadow-md dark:bg-gray-800"},u.a.createElement(N.Label,{className:"font-bold"},u.a.createElement("span",null,"Update Customer")),u.a.createElement("hr",{className:"mb-2 mt-2"}),u.a.createElement(N.Label,null,u.a.createElement("span",null," Type"),u.a.createElement(h.a,null,1==w.role?u.a.createElement(u.a.Fragment,null,"Customer"):u.a.createElement(u.a.Fragment,null,"Account"))),u.a.createElement(N.Label,null,u.a.createElement("span",null,"UserName"),u.a.createElement(h.a,null,w.username," ")),u.a.createElement(N.HelperText,{valid:!1},S.username),u.a.createElement(N.Label,null,u.a.createElement("span",null,"Email"),u.a.createElement(h.a,null,w.email," ")),u.a.createElement(u.a.Fragment,null,u.a.createElement(N.Label,null,u.a.createElement("span",null,"Customer Name"),u.a.createElement(N.Input,{className:"mt-1",type:"text",value:w.name,onChange:P("name")})),u.a.createElement(N.HelperText,{valid:!1},S.customerName)),u.a.createElement(N.HelperText,{valid:!1},S.email),u.a.createElement(N.Label,{className:"font-bold mt-5 mb-2"},u.a.createElement("span",null,"Additional Information")),u.a.createElement("hr",null),u.a.createElement(N.Label,null,u.a.createElement("span",null,"Address"),u.a.createElement(N.Input,{className:"mt-1",type:"text",value:w.address,onChange:P("address")}))," ",u.a.createElement(N.Label,null,u.a.createElement("span",null,"District"),u.a.createElement(N.Input,{className:"mt-1",type:"text",value:w.district,onChange:P("district")}))," ",u.a.createElement(N.Label,null,u.a.createElement("span",null,"state"),u.a.createElement(N.Input,{className:"mt-1",type:"text",value:w.state,onChange:P("state")}))," ",u.a.createElement(N.Label,null,u.a.createElement("span",null,"Location Type"),u.a.createElement(N.Input,{className:"mt-1",type:"text",value:w.locationType,onChange:P("locationType")}))," ",u.a.createElement(N.Label,null,u.a.createElement("span",null,"PIN code"),u.a.createElement(N.Input,{className:"mt-1",type:"text",value:w.pincode,onChange:P("pincode")}))," ",u.a.createElement(N.Label,null,u.a.createElement("span",null,"GST Number"),u.a.createElement(N.Input,{className:"mt-1",type:"text",value:w.GSTnumber,onChange:P("GSTnumber")}))," ",u.a.createElement(N.Label,null,u.a.createElement("span",null,"Contact Person"),u.a.createElement(N.Input,{className:"mt-1",type:"text",value:w.contactPerson,onChange:P("contactPerson")}))," ",u.a.createElement(N.Label,null,u.a.createElement("span",null,"Contact Number"),u.a.createElement(N.Input,{className:"mt-1",type:"text",value:w.contactNo,onChange:P("contactNo")}))," ",u.a.createElement(N.Label,null,u.a.createElement("span",null,"Whatsapp Number"),u.a.createElement(N.Input,{className:"mt-1",type:"text",value:w.WhatsappNo,onChange:P("WhatsappNo")})),u.a.createElement("hr",{className:"my-8"}),u.a.createElement("hr",null),u.a.createElement(N.Button,{onClick:G,"aria-label":"Notifications","aria-haspopup":"true",className:"mt-4"},"Update Information")),u.a.createElement(u.a.Fragment,null,u.a.createElement(N.Modal,{isOpen:p,onClose:function(){return y(!1)}},u.a.createElement(N.ModalHeader,null,"Customer Updated Successfully!"),u.a.createElement(N.ModalBody,null),u.a.createElement(N.ModalFooter,null,u.a.createElement(N.Button,{className:"w-full sm:w-auto",onClick:function(){return e.push("/app/customer/getCustomerById/".concat(a))}},"Okay!")))))}}}]);
//# sourceMappingURL=46.2073ad81.chunk.js.map