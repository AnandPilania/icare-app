(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[36],{1347:function(e,a,l){"use strict";l.r(a);var t=l(6),n=l.n(t),c=l(14),m=l(16),r=l(7),s=l(3),o=l(0),u=l.n(o),E=l(1),p=l(12),i=l(27),f=(l(219),l(13)),d=l.n(f),N=l(15);function y(e){var a=e.isModalOpen,l=e.setIsModalOpen,t=e.setEmployee,n=Object(o.useState)([]),c=Object(s.a)(n,2),m=c[0],r=c[1];Object(o.useEffect)((function(){console.log("HERERRE"),d.a.post("".concat(N.a,"/admin/").concat(p.a.getId(),"/getAllEmpData")).then((function(e){console.log(e.data);var a=[];e.data.map((function(e){a.push(e)})),r(a)})).catch((function(e){console.log("axiosErr",e)}))}),[]);return u.a.createElement(u.a.Fragment,null,u.a.createElement(E.Modal,{isOpen:a,onClose:function(){return l(!1)}},u.a.createElement(E.ModalHeader,null,"Select Employee"),u.a.createElement(E.ModalBody,null,u.a.createElement(E.TableContainer,null,u.a.createElement(E.Table,null,u.a.createElement(E.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(E.TableCell,null,"Name"),u.a.createElement(E.TableCell,null,"Email"))),u.a.createElement(E.TableBody,null,m.map((function(e,a){return u.a.createElement(E.TableRow,{key:a,className:"hover:bg-blue-300 dark:hover:bg-gray-100 bg-opacity-25 ",onClick:function(){console.log(e),t(e),l(!1)}},u.a.createElement(E.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.employeeName)))),u.a.createElement(E.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.email)))))})))),u.a.createElement(E.TableFooter,null))),u.a.createElement(E.ModalFooter,null,u.a.createElement(E.Button,{className:"w-full sm:w-auto",layout:"outline",onClick:function(){return l(!1)}},"Cancel"),u.a.createElement(E.Button,{className:"w-full sm:w-auto"},"Accept"))))}a.default=function(){var e=Object(o.useState)(!1),a=Object(s.a)(e,2),l=a[0],t=a[1],f=Object(o.useState)(!1),x=Object(s.a)(f,2),b=x[0],v=x[1],I=Object(o.useContext)(i.a),w=(I.topheading,I.setTopHeading),C={queryID:"",employeeID:"",employeeName:"",date:"",PFNo:"",ESINo:"",UANNo:"",Basic:"",DA:"",HRAperc:"",rent:"",AccountName:"",BankName:"",BankAcNo:"",IFSCCode:"",BranchName:""},g=Object(o.useState)(C),h=Object(s.a)(g,2),O=h[0],S=h[1],A=Object(o.useState)(new Date),F=Object(s.a)(A,2),B=F[0],D=(F[1],Object(o.useState)({BplusDA:"",EligibleDays:"",Incentive_1:"0",Incentive_2:"0",GrossSalary:"",HRA:"",EmplPF:"",EmplESI:"",Deduction:"",TakeHomeSalary:"",EmployerPF:"",EmployerESI:"",CTC:""})),T=Object(s.a)(D,2),k=T[0],j=T[1];function H(){var e=new Date;return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}Object(o.useEffect)((function(){return j(Object(r.a)(Object(r.a)({},k),{},{BplusDA:parseFloat(parseInt(O.Basic)*(1+parseInt(O.DA)/100)*(parseInt(k.EligibleDays)/H())).toFixed(2),HRA:parseFloat(parseInt(k.BplusDA)*(parseInt(O.HRAperc)/100)).toFixed(2),GrossSalary:parseFloat(parseInt(k.Incentive_1)+parseInt(k.Incentive_2)+parseInt(k.BplusDA)).toFixed(2),EmplPF:parseFloat(.12*k.BplusDA).toFixed(2),EmplESI:parseFloat(.75*k.GrossSalary).toFixed(2),Deduction:parseFloat(parseInt(k.EmplPF)+parseInt(k.EmplESI)).toFixed(2),TakeHomeSalary:parseFloat(parseInt(k.GrossSalary)-parseInt(k.Deduction)).toFixed(2),EmployerPF:parseFloat(.125*parseInt(k.BplusDA)).toFixed(2),EmployerESI:parseFloat(.325*parseInt(k.GrossSalary)).toFixed(2),CTC:parseFloat(parseInt(k.GrossSalary)+parseInt(k.EmployerESI)+parseInt(k.EmployerESI)).toFixed(2)})),function(){console.log("auto updated")}}),[O,k.BplusDA,k.Incentive_1,k.Incentive_2,k.EligibleDays,k.EmplPF,k.EmplESI,k.Deduction,k.EmployerESI,k.EmployerPF]);var P=function(e){return function(a){S(Object(r.a)(Object(r.a)({},O),{},Object(m.a)({},e,a.target.value)))}},L=function(e){return function(a){j(Object(r.a)(Object(r.a)({},k),{},Object(m.a)({},e,a.target.value)))}},R=function(){var e=Object(c.a)(n.a.mark((function e(){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={queryID:O._id,employeeID:O.employeeID,employeeName:O.employeeName,date:B,PFNo:O.PFNo,ESINo:O.ESINo,UANNo:O.UANNo,Basic:O.Basic,DA:O.DA,HRAperc:O.HRAperc,rent:O.rent,BplusDA:k.BplusDA,EligibleDays:k.EligibleDays,HRA:k.HRA,Incentive_1:k.Incentive_1,Incentive_2:k.Incentive_2,GrossSalary:k.GrossSalary,EmplPF:k.EmplPF,EmplESI:k.EmplESI,Deduction:k.Deduction,TakeHomeSalary:k.TakeHomeSalary,EmployerPF:k.EmployerPF,EmployerESI:k.EmployerESI,CTC:k.CTC,AccountName:O.AccountName,BankName:O.BankName,BankAcNo:O.BankAcNo,IFSCCode:O.IFSCCode,BranchName:O.BranchName},console.log(a),S(C),e.prev=3,e.next=6,d()({url:"".concat(N.a,"/admin/").concat(p.a.getId(),"/createSalary"),method:"POST",data:a});case 6:v(!0),console.log("Done"),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(3),e.t0;case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){return w("Pay Employee "),function(){w("")}}),[]),u.a.createElement(u.a.Fragment,null,u.a.createElement(E.Card,{className:"mb-4 shadow-md mt-4"},u.a.createElement(E.CardBody,null,u.a.createElement("div",{className:"flex flex-row flex-wrap items-center justify-between"},u.a.createElement("div",null,"Name: ",O.employeeName," "),u.a.createElement("div",null,"ID: ",O.employeeID," "),u.a.createElement("div",null,"CTC: ",k.CTC," "),u.a.createElement("div",null,u.a.createElement(E.Button,{"aria-label":"Notifications",onClick:function(){t(!0)},"aria-haspopup":"true",layout:"outline",className:"mt-4 mx-2 "},"Select Employee"," "),u.a.createElement(E.Button,{"aria-label":"Notifications","aria-haspopup":"true",layout:"outline",onClick:R,className:"mt-4 mx-2 "},"Pay Salary"))))),function(){var e;return u.a.createElement("div",{className:"px-4 py-3  mb-8 bg-white rounded-lg shadow-md dark:bg-gray-800"},u.a.createElement(E.Label,{className:"font-bold"},u.a.createElement("span",null,"Salary Details")),u.a.createElement("hr",{className:"mb-5 mt-2"}),u.a.createElement("div",{className:"flex-row flex  space-x-3"},u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full"},u.a.createElement("span",null,"PFNo"),u.a.createElement(E.Input,{className:"mt-1",type:"text",value:O.PFNo,readOnly:!0,onChange:P("PFNo")}))),u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full"},u.a.createElement("span",null,"ESINo"),u.a.createElement(E.Input,{className:"mt-1",type:"text",value:O.ESINo,readOnly:!0,onChange:P("ESINo")}))),u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full "},u.a.createElement("span",null,"UANNo"),u.a.createElement(E.Input,{className:"mt-1",type:"text",placeholder:"",value:O.UANNo,readOnly:!0,onChange:P("UANNo")})))),u.a.createElement("div",{className:"flex-row flex  space-x-3"},u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full"},u.a.createElement("span",null,"Basic"),u.a.createElement(E.Input,{className:"mt-1",type:"text",value:O.Basic,readOnly:!0,onChange:P("Basic")}))),u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full"},u.a.createElement("span",null,"DA"),u.a.createElement(E.Input,{className:"mt-1",type:"text",value:O.DA,readOnly:!0,onChange:P("DA")}))),u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full "},u.a.createElement("span",null,"HRA %"),u.a.createElement(E.Input,{className:"mt-1",type:"text",placeholder:"",value:O.HRAperc,readOnly:!0,onChange:P("HRAperc")}))),u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full"},u.a.createElement("span",null,"HRA"),u.a.createElement(E.Input,{className:"mt-1",type:"text",readOnly:!0,value:O.HRA,onChange:P("HRA")})))),u.a.createElement("div",{className:"flex-row flex  space-x-3"},u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full"},u.a.createElement("span",null,"Rent"),u.a.createElement(E.Input,{className:"mt-1 ",type:"text",value:O.rent,readOnly:!0,onChange:P("rent")}))),u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full"},u.a.createElement("span",null,"Account Name"),u.a.createElement(E.Input,{className:"mt-1",type:"text",value:O.AccountName,readOnly:!0,onChange:P("AccountName")}))),u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full "},u.a.createElement("span",null,"Bank Name"),u.a.createElement(E.Input,{className:"mt-1",type:"text",placeholder:"",readOnly:!0,value:O.BankName,onChange:P("BankName")})))),u.a.createElement("div",{className:"flex-row flex  space-x-3"},u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full"},u.a.createElement("span",null,"Bank Account No"),u.a.createElement(E.Input,{className:"mt-1",type:"text",readOnly:!0,value:O.BankAcNo,onChange:P("BankAcNo")}))),u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full"},u.a.createElement("span",null,"IFSC Code"),u.a.createElement(E.Input,{className:"mt-1",type:"text",readOnly:!0,value:O.IFSCCode,onChange:P("IFSCCode")}))),u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full "},u.a.createElement("span",null,"Branch Name"),u.a.createElement(E.Input,{className:"mt-1",type:"text",placeholder:"",value:O.BranchName,readOnly:!0,onChange:P("BranchName")})))),u.a.createElement("hr",{className:"my-4"}),u.a.createElement("div",{className:"flex-row flex  space-x-3"},u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full"},u.a.createElement("span",null,"Incentive_1"),u.a.createElement(E.Input,{className:"mt-1",type:"text",value:k.Incentive_1,onChange:L("Incentive_1")}))),u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full"},u.a.createElement("span",null,"Incentive_2"),u.a.createElement(E.Input,{className:"mt-1",type:"text",value:k.Incentive_2,onChange:L("Incentive_2")}))),u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full "},u.a.createElement("span",null,"Eligible Days"),u.a.createElement(E.Input,{className:"mt-1",type:"text",placeholder:"",value:k.EligibleDays,onChange:L("EligibleDays")})))),u.a.createElement("hr",{className:"my-4"}),u.a.createElement("div",{className:"flex-row flex  space-x-3"},u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full"},u.a.createElement("span",null,"HRA"),u.a.createElement(E.Input,{className:"mt-1",type:"text",readOnly:!0,value:k.HRA,onChange:L("HRA")}))),u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full"},u.a.createElement("span",null,"EmplPF"),u.a.createElement(E.Input,{className:"mt-1",type:"text",readOnly:!0,value:k.EmplPF,onChange:L("EmplPF")}))),u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full"},u.a.createElement("span",null,"EmplESI"),u.a.createElement(E.Input,{className:"mt-1",readOnly:!0,type:"text",value:k.EmplESI,onChange:L("EmplESI")}))),u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full "},u.a.createElement("span",null,"Deduction"),u.a.createElement(E.Input,{className:"mt-1",type:"text",readOnly:!0,placeholder:"",value:k.Deduction,onChange:L("Deduction")})))),u.a.createElement("div",{className:"flex-row flex  space-x-3"},u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full"},u.a.createElement("span",null,"TakeHomeSalary"),u.a.createElement(E.Input,{className:"mt-1",readOnly:!0,type:"text",value:k.TakeHomeSalary,onChange:L("TakeHomeSalary")}))),u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full"},u.a.createElement("span",null,"EmployerPF"),u.a.createElement(E.Input,{className:"mt-1",readOnly:!0,type:"text",value:k.EmployerPF,onChange:L("EmployerPF")}))),u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full "},u.a.createElement("span",null,"EmployerESI"),u.a.createElement(E.Input,{className:"mt-1",readOnly:!0,type:"text",placeholder:"",value:k.EmployerESI,onChange:L("EmployerESI")})))),u.a.createElement("div",{className:"flex-row flex  space-x-3"},u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full"},u.a.createElement("span",null,"Payable Basic + DA "),u.a.createElement(E.Input,(e={className:"mt-1",readOnly:!0,type:"text"},Object(m.a)(e,"readOnly",!0),Object(m.a)(e,"value",k.BplusDA),Object(m.a)(e,"onChange",L("BplusDA")),e)))),u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full "},u.a.createElement("span",null,"Gross Salary"),u.a.createElement(E.Input,{className:"mt-1",readOnly:!0,type:"text",placeholder:"",value:k.GrossSalary,onChange:L("GrossSalary")}))),u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full"},u.a.createElement("span",null,"CTC"),u.a.createElement(E.Input,{className:"mt-1",readOnly:!0,type:"text",value:k.CTC,onChange:L("CTC")})))))}(),u.a.createElement(u.a.Fragment,null,u.a.createElement(E.Modal,{isOpen:b,onClose:function(){return v(!1)}},u.a.createElement(E.ModalHeader,null,"Payment Successful!"),u.a.createElement(E.ModalBody,null),u.a.createElement(E.ModalFooter,null,u.a.createElement(E.Button,{className:"w-full sm:w-auto",onClick:function(){return v(!1)}},"Okay!")))),u.a.createElement(y,{isModalOpen:l,setIsModalOpen:t,setEmployee:S}))}},219:function(e,a,l){"use strict";l.d(a,"a",(function(){return E}));var t=l(3),n=l(0),c=l.n(n),m=l(1),r=l(13),s=l.n(r),o=l(15),u=l(12);function E(e){var a=e.isModalOpen,l=e.setIsModalOpen,r=e.setEngineer,E=e.nextModal,p=Object(n.useState)([]),i=Object(t.a)(p,2),f=i[0],d=i[1];Object(n.useEffect)((function(){console.log("HERERRE"),s.a.post("".concat(o.a,"/admin/").concat(u.a.getId(),"/getAll")).then((function(e){console.log(e.data);var a=[];e.data.map((function(e){a.push(e)})),d(a)})).catch((function(e){console.log("axiosErr",e)}))}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.Modal,{isOpen:a,onClose:function(){return l(!1)}},c.a.createElement(m.ModalHeader,null,"Assign Engineer"),c.a.createElement(m.ModalBody,null,c.a.createElement(m.TableContainer,null,c.a.createElement(m.Table,null,c.a.createElement(m.TableHeader,null,c.a.createElement("tr",null,c.a.createElement(m.TableCell,null,"Name"),c.a.createElement(m.TableCell,null,"Email"))),c.a.createElement(m.TableBody,null,f.map((function(e,a){return c.a.createElement(m.TableRow,{key:a,className:"hover:bg-blue-300 dark:hover:bg-gray-100 bg-opacity-25 ",onClick:function(){r({_id:e._id,enggName:e.employeeName}),l(!1),E(!0)}},c.a.createElement(m.TableCell,null,c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("p",{className:"font-semibold"},e.employeeName)))),c.a.createElement(m.TableCell,null,c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("p",{className:"font-semibold"},e.email)))))})))),c.a.createElement(m.TableFooter,null))),c.a.createElement(m.ModalFooter,null,c.a.createElement(m.Button,{className:"w-full sm:w-auto",layout:"outline",onClick:function(){return l(!1)}},"Cancel"),c.a.createElement(m.Button,{className:"w-full sm:w-auto"},"Accept"))))}}}]);
//# sourceMappingURL=36.b2edd2ec.chunk.js.map